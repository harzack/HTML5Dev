<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<META NAME="bookrevnum" CONTENT="LLESAPP100500-H-UGD-FR-1">
<META name="pvScheme" content="010203-yymm">
<META name="verttl" content="10.5.0">
<META name="PiXprocLocator" content="appearances">
<META mancondkey="lleswbb-h-ugd -- llesrt-h-ugd"><title>Utilisation des fonctions de bibliothèque Javascript pour créer des apparences et des affichages personnalisés</title>
<META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.44">
<META NAME="SECTLVL" CONTENT="1">
<LINK REL="STYLESHEET" TYPE="text/css" HREF="../../ix21.css">

<script language="JavaScript" src="../../llhelp.js"></script>
</HEAD>
<body ONLOAD="checkFrame( 'app-libraryfunctions-bg.htm' )" CLASS="Body" TEXT="#000000" BGCOLOR="#FFFFFF" link="#003366" alink="#3300FF" vlink="#660033" background="../../images/pattern.gif">

<DIV ID="HL4SRCH">
<DIV CLASS="pagecontent" ID="PAGECONTENT">
<!-- header -->
  <script language="JavaScript">
          var header = new AdminHeader("../../images/");
          header.title1 = 'Utilisation des fonctions Javascript pour les apparences et les affichages personnalisés';
          header.title2 = 'Utilisation des fonctions de bibliothèque Javascript pour créer des apparences et des affichages personnalisés';
           header.draw();
  </script>

<P class="nr1"><A NAME="TMPID584"></A>Les sections suivantes décrivent les classes, les variables et les formats utilisés par les classes.</P>
<P CLASS="bridgehead-subheading1 BH1SEP"><A NAME="TMP4REF5">OTvar – variables de remplacement</A></P>
<P><A NAME="TMPID586"></A>Les variables de remplacement sont utilisées pour que la classe de variables soit remplacée par des données réelles provenant de Content Server une fois la page chargée. Le format des variables de remplacement est le suivant : <TT CLASS="literal">&lt;ot:OTvar_component_variablename/&gt;</TT>.</P>
<div title="Variables de remplacement dotées d'informations sur le nœud en cours">
<P CLASS="lttl"><B>Variables de remplacement dotées d'informations sur le nœud en cours</B></P>
<DL CLASS="vl">
<DT class="vl"><A NAME="AEN592"></A><A NAME="TMPID592"><B><TT CLASS="literal">Variable : &lt;ot:OTvar_node_childCount/&gt;</TT></B></A></DT>
<DD>
<P class="nr1"><A NAME="TMPID595"></A><B CLASS="guilabel">Description</B> : nombre d'enfants dans ce nœud.</P></DD>
<DT class="vl"><A NAME="TMPID598"><B><TT CLASS="literal">Variable : &lt;ot:OTvar_node_description/&gt;</TT></B></A></DT>
<DD>
<P class="nr1"><A NAME="TMPID601"></A><B CLASS="guilabel">Description</B> : description de ce nœud.</P></DD>
<DT class="vl"><A NAME="TMPID604"><B><TT CLASS="literal">Variable : &lt;ot:OTvar_node_createDate/&gt;</TT></B></A></DT>
<DD>
<P class="nr1"><A NAME="TMPID607"></A><B CLASS="guilabel">Description</B> : date et heure auxquelles ce nœud a été créé. S'affiche au format suivant : <TT CLASS="literal">2008-06-17 16:36:26</TT>.</P></DD>
<DT class="vl"><A NAME="TMPID611"><B><TT CLASS="literal">Variable : &lt;ot:OTvar_node_creator/&gt;</TT></B></A></DT>
<DD>
<P class="nr1"><A NAME="TMPID614"></A><B CLASS="guilabel">Description</B> : nom de connexion du créateur de ce nœud.</P></DD>
<DT class="vl"><A NAME="TMPID617"><B><TT CLASS="literal">Variable : &lt;ot:OTvar_node_ID/&gt;</TT></B></A></DT>
<DD>
<P class="nr1"><A NAME="TMPID620"></A><B CLASS="guilabel">Description</B> : ID de ce nœud.</P></DD>
<DT class="vl"><A NAME="TMPID623"><B><TT CLASS="literal">Variable : &lt;ot:OTvar_node_parentID/&gt;</TT></B></A></DT>
<DD>
<P class="nr1"><A NAME="TMPID626"></A><B CLASS="guilabel">Description</B> : ID du parent de ce nœud.</P></DD>
<DT class="vl"><A NAME="TMPID629"><B><TT CLASS="literal">Variable : &lt;ot:OTvar_node_modifyDate/&gt;</TT></B></A></DT>
<DD>
<P class="nr1"><A NAME="TMPID632"></A><B CLASS="guilabel">Description</B> : Date et heure auxquelles ce nœud a été modifié dernièrement. S'affiche au format suivant : <TT CLASS="literal">2008-08-25 13:58:30</TT>.</P></DD>
<DT class="vl"><A NAME="TMPID636"><B><TT CLASS="literal">Variable : &lt;ot:OTvar_node_name/&gt;</TT></B></A></DT>
<DD>
<P class="nr1"><A NAME="TMPID639"></A><B CLASS="guilabel">Description</B> : nom de ce nœud.</P></DD>
<DT class="vl"><A NAME="TMPID642"><B><TT CLASS="literal">Variable : &lt;ot:OTvar_node_type/&gt;</TT></B></A></DT>
<DD>
<P class="nr1"><A NAME="TMPID645"></A><B CLASS="guilabel">Description</B> : numéro de type de ce nœud.</P></DD></DL></div>
<div title="Variables de remplacement dotées d'informations sur l'utilisateur actuel">
<P CLASS="lttl"><B>Variables de remplacement dotées d'informations sur l'utilisateur actuel</B></P>
<DL CLASS="vl">
<DT class="vl"><A NAME="AEN650"></A><A NAME="TMPID650"><B><TT CLASS="literal">Variable : &lt;ot:OTvar_currentUser_birthday/&gt;</TT></B></A></DT>
<DD>
<P class="nr1"><A NAME="TMPID653"></A><B CLASS="guilabel">Description</B> : date de naissance de l'utilisateur actuel. S'affiche au format suivant : <TT CLASS="literal">1974-08-19 00:00:00</TT> .</P></DD>
<DT class="vl"><A NAME="TMPID657"><B><TT CLASS="literal">Variable : &lt;ot:OTvar_currentUser_email/&gt;</TT></B></A></DT>
<DD>
<P class="nr1"><A NAME="TMPID660"></A><B CLASS="guilabel">Description</B> : adresse e-mail de l'utilisateur actuel.</P></DD>
<DT class="vl"><A NAME="TMPID663"><B><TT CLASS="literal">Variable : &lt;ot:OTvar_currentUser_firstName/&gt;</TT></B></A></DT>
<DD>
<P class="nr1"><A NAME="TMPID666"></A><B CLASS="guilabel">Description</B> : prénom de l'utilisateur actuel.</P></DD>
<DT class="vl"><A NAME="TMPID669"><B><TT CLASS="literal">Variable : &lt;ot:OTvar_currentUser_ID/&gt;</TT></B></A></DT>
<DD>
<P class="nr1"><A NAME="TMPID672"></A><B CLASS="guilabel">Description</B> : ID de l'utilisateur actuel.</P></DD>
<DT class="vl"><A NAME="TMPID675"><B><TT CLASS="literal">Variable : &lt;ot:OTvar_currentUser_lastName/&gt;</TT></B></A></DT>
<DD>
<P class="nr1"><A NAME="TMPID678"></A><B CLASS="guilabel">Description</B> : nom de l'utilisateur actuel.</P></DD>
<DT class="vl"><A NAME="TMPID681"><B><TT CLASS="literal">Variable : &lt;ot:OTvar_currentUser_login/&gt;</TT></B></A></DT>
<DD>
<P class="nr1"><A NAME="TMPID684"></A><B CLASS="guilabel">Description</B> : nom de connexion de l'utilisateur actuel.</P></DD></DL></div>
<div title="Variables de remplacement dotées d'informations sur le système 'Content Server'">
<P CLASS="lttl"><B>Variables de remplacement dotées d'informations sur le système Content Server</B></P>
<DL CLASS="vl">
<DT class="vl"><A NAME="AEN689"></A><A NAME="TMPID690"><B><TT CLASS="literal">Variable : &lt;ot:OTvar_livelink_cgiPath/&gt;</TT></B></A></DT>
<DD>
<P class="nr1"><A NAME="TMPID693"></A><B CLASS="guilabel">Description</B> : chemin relatif au cgi Content Server.</P></DD>
<DT class="vl"><A NAME="TMPID697"><B><TT CLASS="literal">Variable : &lt;ot:OTvar_livelink_name/&gt;</TT></B></A></DT>
<DD>
<P class="nr1"><A NAME="TMPID700"></A><B CLASS="guilabel">Description</B> : nom affiché pour cette installation de Content Server.</P></DD>
<DT class="vl"><A NAME="TMPID704"><B><TT CLASS="literal">Variable : &lt;ot:OTvar_livelink_supportPath/&gt;</TT></B></A></DT>
<DD>
<P class="nr1"><A NAME="TMPID707"></A><B CLASS="guilabel">Description</B> : chemin relatif au répertoire de support de Content Server.</P></DD></DL></div>
<P><A NAME="TMPID710"></A>Vous pouvez maintenant ajouter facilement des références aux différents répertoires de Content Server à l'aide des variables.</P>
<DIV title="Utilisation d'une variable de remplacement" CLASS="example">
<P CLASS="example" ALIGN="LEFT"><A NAME="TMP4REF6"></A><B><IMG title="Utilisation d'une variable de remplacement" SRC="../../images/pi_objstart.gif" ALIGN="MIDDLE"> Exemple 3-1 : Utilisation d'une variable de remplacement</B></P>
<P class="nr1"><A NAME="TMPID714"></A>Jean Dupont veut créer un affichage personnalisé à l'aide d'une image située dans le répertoire de <I CLASS="emphasis">support</I> de Content Server. Il peut désormais inclure <TT CLASS="literal">&lt;img src="{ot:OTvar_livelink_supportPath}myImage.jpg"&gt;&lt;/img&gt;</TT> qui devient automatiquement <TT CLASS="literal">&lt;img src="/img/myImage.jp"&gt;&lt;/img&gt;</TT>, à condition que le préfixe de l'URL pour le répertoire <TT CLASS="filename">/support</TT> soit défini sur <TT CLASS="filename">/img</TT>. Le préfixe de l'URL est spécifié par l'administrateur de Content Server.</P><IMG title="Utilisation d'une variable de remplacement" SRC="../../images/pi_objend.gif" ALIGN="MIDDLE"></DIV>
<P CLASS="bridgehead-subheading1 BH1SEP"><A NAME="TMP4REF7">OTmacro : Macros</A></P>
<P><A NAME="TMPID723"></A>Le contenu des variables du groupe de classes Macros est remplacé par les données réelles de Content Server, une fois la page chargée. Le format des macros est le suivant : <TT CLASS="literal">&lt;ot:variable_name options=""&gt;&lt;/ot:variable_name&gt;</TT> </P>
<P><A NAME="TMPID726"></A>Les options de variable s'affichent dans n'importe quel ordre. Vous devez uniquement ajouter des options si vous souhaitez les modifier.</P>
<div title="OTmacro : Macros">
<P CLASS="lttl"><B>OTmacro : Macros</B></P>
<DL CLASS="vl">
<DT class="vl"><A NAME="AEN730"></A><A NAME="TMPID730"><B>Class : OTmacro_debug</B></A></DT>
<DD>
<P class="before-ul nr1"><A NAME="TMPID732"></A><B CLASS="guilabel">Objectif</B> : pour le débogage uniquement. Cette classe imprimera toutes les variables, les fonctions et les macros disponibles sur la page en cours.</P>
<P CLASS="lttl"><A NAME="AEN737"></A><B>Options</B></P>
<UL title="Options">
<LI class="vlli">
<P class="vlli"><A NAME="AEN739"></A><A NAME="TMPID737"></A>Aucune</P></LI></UL>
<P CLASS="lttl"><A NAME="AEN741"></A><B>Exemples</B></P>
<UL title="Exemples">
<LI class="vlli">
<P class="vlli"><A NAME="AEN743"></A><A NAME="TMPID741"></A><TT CLASS="literal">&lt;ot:OTmacro_debug&gt;&lt;/ot:OTmacro_debug&gt;</TT> </P></LI></UL></DD>
<DT class="vl"><A NAME="TMPID744"><B>Class : OTmacro_foldersWithDescriptions</B></A></DT>
<DD>
<P class="before-ul nr1"><A NAME="TMPID746"></A><B CLASS="guilabel">Objectif</B> : Crée une liste des dossiers enfants d'un nœud spécifié (par défaut, le nœud en cours). Contient des descriptions (le filtrage du contenu de la description est facultatif).</P>
<P CLASS="lttl"><A NAME="AEN751"></A><B>Options</B></P>
<UL title="Options">
<LI class="vlli">
<P class="vlli"><A NAME="AEN753"></A><A NAME="TMPID751"></A>contient : une chaîne à introduire dans la description du dossier pour que ce dernier soit compris dans la liste.</P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN755"></A><A NAME="TMPID753"></A>max : entier précisant le nombre maximum d'éléments à insérer dans la liste. Le nombre maximum d'éléments par défaut est 24.</P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN757"></A><A NAME="TMPID755"></A>parentID : entier précisant l'ID du recueil parent permettant d'obtenir des enfants. Par défaut : nœud en cours.</P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN759"></A><A NAME="TMPID757"></A>functionMenus : paramètre booléen précisant si les menus de fonctions sont disponibles pour chaque élément de la liste. Par défaut : la valeur True.</P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN761"></A><A NAME="TMPID759"></A>icônes : paramètre booléen spécifiant si les icônes précisant le type d'élément doivent être comprises dans la liste. Par défaut : la valeur True.</P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN763"></A><A NAME="TMPID761"></A>colonnes : entier compris entre 1 et 4 précisant le nombre de colonnes dans lesquelles les résultats seront affichés. Par défaut : 3 colonnes.</P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN765"></A><A NAME="TMPID763"></A>classes : chaîne contenant une liste de classes CSS, séparée par un espace, à appliquer à la liste résultante.</P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN767"></A><A NAME="TMPID765"></A>nameFilter : chaîne à introduire dans le nom de l'élément pour qu'il soit compris dans la liste.</P></LI></UL>
<P CLASS="lttl"><A NAME="AEN769"></A><B>Exemples</B></P>
<UL title="Exemples">
<LI class="vlli">
<P class="vlli"><A NAME="AEN771"></A><A NAME="TMPID769"></A><TT CLASS="literal">&lt;ot:OTmacro_foldersWithDescriptions/&gt;</TT> </P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN774"></A><A NAME="TMPID772"></A><TT CLASS="literal">&lt;ot:OTmacro_foldersWithDescriptions options=""&gt;&lt;/ot:OTmacro_foldersWithDescriptions&gt;</TT> </P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN777"></A><A NAME="TMPID775"></A><TT CLASS="literal">&lt;ot:OTmacro_foldersWithDescriptions options=""&gt;&lt;/ot:OTmacro_foldersWithDescriptions&gt;</TT> </P></LI></UL></DD>
<DT class="vl"><A NAME="TMPID778"><B>Class : OTmacro_recentlyUpdatedDocuments</B></A></DT>
<DD>
<P class="before-ul nr1"><A NAME="TMPID780"></A><B CLASS="guilabel">Objectif</B> : crée une liste des documents enfant du nœud spécifié (par défaut, le nœud en cours) qui ont été récemment mis à jour.</P>
<P CLASS="lttl"><A NAME="AEN785"></A><B>Options</B></P>
<UL title="Options">
<LI class="vlli">
<P class="vlli"><A NAME="AEN787"></A><A NAME="TMPID785"></A>max : entier précisant le nombre maximum d'éléments à insérer dans la liste. Le nombre maximum d'éléments par défaut est 24.</P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN789"></A><A NAME="TMPID787"></A>parentID : entier précisant l'ID du recueil parent permettant d'obtenir des enfants. Par défaut : nœud en cours.</P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN791"></A><A NAME="TMPID789"></A>functionMenus : paramètre booléen précisant si les menus de fonctions sont disponibles pour chaque élément de la liste. Par défaut : la valeur True.</P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN793"></A><A NAME="TMPID791"></A>icônes : paramètre booléen spécifiant si les icônes précisant le type d'élément doivent être comprises dans la liste. Par défaut : la valeur True.</P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN795"></A><A NAME="TMPID793"></A>colonnes : entier compris entre 1 et 4 précisant le nombre de colonnes dans lesquelles les résultats seront affichés. Par défaut : 3 colonnes.</P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN797"></A><A NAME="TMPID795"></A>classes : chaîne contenant une liste de classes CSS, séparée par un espace, à appliquer à la liste résultante.</P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN799"></A><A NAME="TMPID797"></A>nameFilter : chaîne à introduire dans le nom de l'élément pour qu'il soit compris dans la liste.</P></LI></UL>
<P CLASS="lttl"><A NAME="AEN801"></A><B>Exemples</B></P>
<UL title="Exemples">
<LI class="vlli">
<P class="vlli"><A NAME="AEN803"></A><A NAME="TMPID801"></A><TT CLASS="literal">&lt;ot:OTmacro_recentlyUpdatedDocuments/&gt;</TT> </P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN806"></A><A NAME="TMPID804"></A><TT CLASS="literal">&lt;ot:OTmacro_recentlyUpdatedDocuments options=""&gt;&lt;/ot:OTmacro_recentlyUpdatedDocuments&gt;</TT> </P></LI></UL></DD>
<DT class="vl"><A NAME="TMPID807"><B>Class : OTmacro_listFolders</B></A></DT>
<DD>
<P class="before-ul nr1"><A NAME="TMPID809"></A><B CLASS="guilabel">Objectif</B> : Crée une liste des dossiers enfants d'un nœud spécifié (par défaut, le nœud en cours).</P>
<P CLASS="lttl"><A NAME="AEN814"></A><B>Options</B></P>
<UL title="Options">
<LI class="vlli">
<P class="vlli"><A NAME="AEN816"></A><A NAME="TMPID814"></A>max : entier précisant le nombre maximum d'éléments à insérer dans la liste. Le nombre maximum d'éléments par défaut est 24.</P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN818"></A><A NAME="TMPID816"></A>parentID : entier précisant l'ID du recueil parent permettant d'obtenir des enfants. Par défaut : nœud en cours.</P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN820"></A><A NAME="TMPID818"></A>functionMenus : paramètre booléen précisant si les menus de fonctions sont disponibles pour chaque élément de la liste. Par défaut : la valeur True.</P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN822"></A><A NAME="TMPID820"></A>icônes : paramètre booléen spécifiant si les icônes précisant le type d'élément doivent être comprises dans la liste. Par défaut : la valeur True.</P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN824"></A><A NAME="TMPID822"></A>colonnes : entier compris entre 1 et 4 précisant le nombre de colonnes dans lesquelles les résultats seront affichés. Par défaut : 3 colonnes.</P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN826"></A><A NAME="TMPID824"></A>classes : chaîne contenant une liste de classes CSS, séparée par un espace, à appliquer à la liste résultante.</P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN828"></A><A NAME="TMPID826"></A>nameFilter : chaîne à introduire dans le nom de l'élément pour qu'il soit compris dans la liste.</P></LI></UL>
<P CLASS="lttl"><A NAME="AEN830"></A><B>Exemples</B></P>
<UL title="Exemples">
<LI class="vlli">
<P class="vlli"><A NAME="AEN832"></A><A NAME="TMPID830"></A><TT CLASS="literal">&lt;ot:OTmacro_listFolders/&gt;</TT></P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN835"></A><A NAME="TMPID833"></A><TT CLASS="literal">&lt;ot:OTmacro_listFolders options="max:30"/&gt;</TT> </P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN838"></A><A NAME="TMPID836"></A><TT CLASS="literal">&lt;ot:OTmacro_listFolders options="max:30, parentID:2000"/&gt;</TT></P></LI></UL></DD>
<DT class="vl"><A NAME="TMPID839"><B>Class : OTmacro_listContainers</B></A></DT>
<DD>
<P class="before-ul nr1"><A NAME="TMPID841"></A><B CLASS="guilabel">Objectif</B> : crée une liste des recueils enfants d'un nœud spécifié (par défaut, le nœud en cours).</P>
<P CLASS="lttl"><A NAME="AEN846"></A><B>Options :</B></P>
<UL title="Options :">
<LI class="vlli">
<P class="vlli"><A NAME="AEN848"></A><A NAME="TMPID846"></A>max : entier précisant le nombre maximum d'éléments à insérer dans la liste. Le nombre maximum d'éléments par défaut est 24.</P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN850"></A><A NAME="TMPID848"></A>parentID : entier précisant l'ID du recueil parent permettant d'obtenir des enfants. Par défaut : nœud en cours.</P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN852"></A><A NAME="TMPID850"></A>functionMenus : paramètre booléen précisant si les menus de fonctions sont disponibles pour chaque élément de la liste. Par défaut : la valeur True.</P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN854"></A><A NAME="TMPID852"></A>icônes : paramètre booléen spécifiant si les icônes précisant le type d'élément doivent être comprises dans la liste. Par défaut : la valeur True.</P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN856"></A><A NAME="TMPID854"></A>colonnes : entier compris entre 1 et 4 précisant le nombre de colonnes dans lesquelles les résultats seront affichés. Par défaut : 3 colonnes.</P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN858"></A><A NAME="TMPID856"></A>classes : chaîne contenant une liste de classes CSS, séparée par un espace, à appliquer à la liste résultante.</P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN860"></A><A NAME="TMPID858"></A>nameFilter : chaîne à introduire dans le nom de l'élément pour qu'il soit compris dans la liste.</P></LI></UL>
<P CLASS="lttl"><A NAME="AEN862"></A><B>Exemples</B></P>
<UL title="Exemples">
<LI class="vlli">
<P class="vlli"><A NAME="AEN864"></A><A NAME="TMPID862"></A><TT CLASS="literal">&lt;ot:OTmacro_listContainers/&gt;</TT> </P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN867"></A><A NAME="TMPID865"></A><TT CLASS="literal">&lt;ot:OTmacro_listContainers options="max:30"/&gt;</TT> </P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN870"></A><A NAME="TMPID868"></A><TT CLASS="literal">&lt;ot:OTmacro_listContainers options="max:30, parentID:2000"/&gt;</TT></P></LI></UL></DD>
<DT class="vl"><A NAME="TMPID871"><B>Class : OTmacro_listItems</B></A></DT>
<DD>
<P class="before-ul nr1"><A NAME="TMPID873"></A><B CLASS="guilabel">Objectif</B> : crée une liste des recueils enfants d'un nœud spécifié (par défaut, le nœud en cours).</P>
<P CLASS="lttl"><A NAME="AEN878"></A><B>Options</B></P>
<UL title="Options">
<LI class="vlli">
<P class="vlli"><A NAME="AEN880"></A><A NAME="TMPID878"></A>max : entier précisant le nombre maximum d'éléments à insérer dans la liste. Le nombre maximum d'éléments par défaut est 24.</P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN882"></A><A NAME="TMPID880"></A>type : entier précisant le seul type d'élément à afficher. Par défaut : Tout afficher.</P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN884"></A><A NAME="TMPID882"></A>parentID : entier précisant l'ID du recueil parent permettant d'obtenir des enfants. Par défaut : nœud en cours.</P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN886"></A><A NAME="TMPID884"></A>functionMenus : paramètre booléen précisant si les menus de fonctions sont disponibles pour chaque élément de la liste. Par défaut : la valeur True.</P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN888"></A><A NAME="TMPID886"></A>icônes : paramètre booléen spécifiant si les icônes précisant le type d'élément doivent être comprises dans la liste. Par défaut : la valeur True.</P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN890"></A><A NAME="TMPID888"></A>colonnes : entier compris entre 1 et 4 précisant le nombre de colonnes dans lesquelles les résultats seront affichés. Par défaut : 3 colonnes.</P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN892"></A><A NAME="TMPID890"></A>classes : chaîne contenant une liste de classes CSS, séparée par un espace, à appliquer à la liste résultante.</P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN894"></A><A NAME="TMPID892"></A>nameFilter : chaîne à introduire dans le nom de l'élément pour qu'il soit compris dans la liste.</P></LI></UL>
<P CLASS="lttl"><A NAME="AEN896"></A><B>Exemples</B></P>
<UL title="Exemples">
<LI class="vlli">
<P class="vlli"><A NAME="AEN898"></A><A NAME="TMPID896"></A><TT CLASS="literal">&lt;ot:OTmacro_listItems/&gt;</TT></P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN901"></A><A NAME="TMPID899"></A><TT CLASS="literal">&lt;ot:OTmacro_listItems options="max:30"/&gt;&lt;/ot:OTmacro_listItems&gt;</TT> </P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN904"></A><A NAME="TMPID902"></A><TT CLASS="literal">&lt;ot:OTmacro_listItems options="max:30, parentID:2000"/&gt;&lt;/ot:OTmacro_listItems&gt;</TT></P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN907"></A><A NAME="TMPID905"></A><TT CLASS="literal">&lt;ot:OTmacro_listItems options="max:30, parentID:2000, type:202"/&gt;&lt;/ot:OTmacro_listItems&gt;</TT></P></LI></UL>
<P CLASS="lttl"><A NAME="AEN910"></A><B>Exemple indiquant les classes</B></P>
<UL title="Exemple indiquant les classes">
<LI class="vlli">
<P class="vlli"><A NAME="AEN912"></A><A NAME="TMPID910"></A><TT CLASS="literal">&lt;ot:OTmacro_listitems options="max:30, parentID:2000, classes:'firstClass,another'"/&gt;</TT></P>
<P class="vlli"><A NAME="TMPID912"></A>Les options présentées dans cet exemple permettent aux listes avec un ordre non classé de posséder les classes : <TT CLASS="literal">"firstClass, another"</TT> .</P>
<P class="vlli"><A NAME="TMPID914"></A><TT CLASS="literal">&lt;ul start="8" class="firstClass, another"&gt;</TT> </P></LI></UL></DD></DL></div>
<P CLASS="bridgehead-subheading1 BH1SEP"><A NAME="TMP4REF8">OTfunc : fonctions de l'aide</A></P>
<P><A NAME="TMPID917"></A>Les classes OTfunc sont des fonctions Javascript utiles pour désigner des macros personnalisées. Elles ne sont cependant pas utilisées fréquemment.</P>
<div title="Otfunc : fonctions de l'aide">
<P CLASS="lttl"><B>Otfunc : fonctions de l'aide</B></P>
<DL CLASS="vl">
<DT class="vl"><A NAME="AEN921"></A><A NAME="TMPID921"><B>Class : OTfunc.toDate</B></A></DT>
<DD>
<P class="nr1"><A NAME="TMPID923"></A><B CLASS="guilabel">Objectif</B> : renvoie une chaîne de dates qui est renvoyée par Content Server dans un objet de date Javascript.</P>
<P><A NAME="TMPID926"></A><B CLASS="guilabel">Entrée</B> : dateString :&lt;<I CLASS="varname">the_string_to_be_converted</I>>.</P>
<P><A NAME="TMPID929"></A><B CLASS="guilabel">Sortie</B> : un objet de date Javascript défini sur la date représentée par la chaîne.</P></DD>
<DT class="vl"><A NAME="TMPID932"><B>Class : OTfunc.substitueAttributeVariable</B></A></DT>
<DD>
<P class="before-ul nr1"><A NAME="TMPID934"></A><B CLASS="guilabel">Objectif</B> : pour échanger toutes les occurrences d'un ensemble de variables donné dans un attribut donné par une valeur donnée</P>
<P CLASS="lttl"><A NAME="AEN939"></A><B>Entrée</B></P>
<UL title="Entrée">
<LI class="vlli">
<P class="vlli"><A NAME="AEN941"></A><A NAME="TMPID939"></A>attributeName :&lt;<I CLASS="varname">the_attribute_to_search_in</I>> </P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN944"></A><A NAME="TMPID942"></A>variableName :&lt;<I CLASS="varname">the_name_of_the_variable_being_searched</I>> </P></LI>
<LI class="vlli">
<P class="vlli"><A NAME="AEN947"></A><A NAME="TMPID945"></A>variableValue :&lt;<I CLASS="varname">the_value_to_be_substituted</I>> </P></LI></UL>
<P CLASS="lttl"><A NAME="AEN950"></A><B>Sortie</B></P>
<UL title="Sortie">
<LI class="vlli">
<P class="vlli"><A NAME="AEN952"></A><A NAME="TMPID950"></A>Aucune</P></LI></UL></DD></DL></div>
<P CLASS="bridgehead-subheading1 BH1SEP"><A NAME="TMP4REF9">Personnalisations des utilisateurs</A></P>
<P CLASS="bridgehead-subheading2 BH2SEP"><A NAME="TMP4REF10">Javascript personnalisé</A></P>
<P><A NAME="TMPID953"></A>Vous pouvez ajouter votre propre fichier Javascript personnalisé, lequel sera disponible dans toutes les apparences et tous les affichages personnalisés. Si vous voulez ajouter une fonction Javascript qui s'affiche dans l'intégralité du système Content Server, vous pouvez ajouter le script au fichier <TT CLASS="filename">custom.js</TT>, situé dans le dossier <TT CLASS="filename">root</TT> du répertoire Content Server <TT CLASS="filename"> support</TT>.</P>
<table CLASS="note">
<TR>
<TD FRAME="VOID" CLASS="tabverspace" COLSPAN="2">&nbsp;</TD></TR>
<TR FRAME="VOID">
<TD ALIGN="LEFT" VALIGN="TOP" CLASS="iconcell">
<P CLASS="note"><A NAME="TMP4REF11"></A><IMG ALT="Note" SRC="../../images/pi_note.gif"></IMG></P></TD>
<TD ALIGN="LEFT" CLASS="percontscell">
<P><A NAME="TMPID960"></A><B CLASS="note">Note : </B><BR>Vous devez disposer des autorisations adéquates pour accéder au répertoire de <TT CLASS="filename"> support</TT>. Pour plus d'informations sur ces autorisations, contactez votre administrateur.</P></TD></TR>
<TR>
<TD FRAME="VOID" CLASS="tabverspace" COLSPAN="2">&nbsp;</TD></TR></table>
<P CLASS="bridgehead-subheading2 BH2SEP"><A NAME="TMP4REF12">Customvar : variables de remplacement créées par l'utilisateur</A></P>
<P><A NAME="TMPID963"></A>Vous pouvez créer vos propres variables de remplacement, lesquelles seront traitées automatiquement une fois ajoutées à l'objet Javascript CUSTOMvar. <P>
<DIV CLASS="informalexample">
<P><A NAME="AEN967"></A><B>Exemple</B></P>
<P class="nr1"><A NAME="TMPID965"></A>Si vous voulez créer une balise de remplacement indiquant toujours l'objectif le plus important, vous pouvez ajouter les éléments suivants au fichier <TT CLASS="filename"> custom.js</TT> :</P>
<P><A NAME="TMPID967"></A><TT CLASS="literal">Customvar.mainObjective='Sell! Sell! Sell!';</TT> </P>
</DIV></P></P>
<table CLASS="note">
<TR>
<TD FRAME="VOID" CLASS="tabverspace" COLSPAN="2">&nbsp;</TD></TR>
<TR FRAME="VOID">
<TD ALIGN="LEFT" VALIGN="TOP" CLASS="iconcell">
<P CLASS="note"><A NAME="TMP4REF13"></A><IMG ALT="Note" SRC="../../images/pi_note.gif"></IMG></P></TD>
<TD ALIGN="LEFT" CLASS="percontscell">
<P><A NAME="TMPID970"></A><B CLASS="note">Note : </B><BR>Lorsque vous définissez une variable de remplacement, vous devez utiliser un <I CLASS="emphasis">point (.)</I> au lieu d'un <I CLASS="emphasis">trait de soulignement (_)</I> après <TT CLASS="literal">Customvar</TT>.</P>
<P><A NAME="TMPID974"></A>L'objet <TT CLASS="literal">Customvar</TT> peut être développé au sein d'une section de script à l'intérieur d'une apparence. La variable de remplacement définie sera <I CLASS="emphasis">disponible uniquement pour cette apparence</I> et apparaîtra dans les affichages personnalisés associés à cette apparence en particulier.</P></TD></TR>
<TR>
<TD FRAME="VOID" CLASS="tabverspace" COLSPAN="2">&nbsp;</TD></TR></table>
<P CLASS="bridgehead-subheading2 BH2SEP"><A NAME="TMP4REF14">CUSTOMmacro : macros créées par l'utilisateur</A></P>
<P><A NAME="TMPID978"></A>Vous pouvez créer vos propres macros, lesquelles seront traitées automatiquement une fois ajoutées à l'objet Javascript <TT CLASS="literal">CUSTOMmacro</TT>.</P>
<P>
<DIV CLASS="informalexample">
<P><A NAME="AEN983"></A><B>Exemple</B></P>
<P class="nr1"><A NAME="TMPID981"></A>Si vous voulez créer une macro pour souhaiter un joyeux anniversaire aux utilisateurs, vous pouvez ajouter les éléments suivants au fichier <TT CLASS="filename">custom.js</TT> :</P><A NAME="AEN986"></A>
<PRE 
CLASS="screen"
>CUSTOMmacro.birthdayGreeting = function( options, element ){            

 var BirthdayString;
    var birthday = OTfunc.toDate(OTvar.currentUser.birthday);
    var today = new Date();
    var age;

 if (birthday.getUTCDate() === today.getUTCDate()
    &amp;&amp; birthday.getUTCMonth() === today.getUTCMonth())
    {   
        age = today.getUTCFullYear() - birthday.getUTCFullYear();
        BirthdayString = (" Happy Birthday! You are now " + age + " years old.");
    	$(element).after(BirthdayString);
    	// $(element).before(BirthdayString);
    }
}</PRE
>
</DIV></P>
<table CLASS="note">
<TR>
<TD FRAME="VOID" CLASS="tabverspace" COLSPAN="2">&nbsp;</TD></TR>
<TR FRAME="VOID">
<TD ALIGN="LEFT" VALIGN="TOP" CLASS="iconcell">
<P CLASS="note"><A NAME="TMP4REF15"></A><IMG ALT="Note" SRC="../../images/pi_note.gif"></IMG></P></TD>
<TD ALIGN="LEFT" CLASS="percontscell">
<P><A NAME="TMPID985"></A><B CLASS="note">Note : </B><BR>Les objets <TT CLASS="literal">OTVar</TT> et <TT CLASS="literal">OTfunc</TT> sont référencés pour récupérer l'anniversaire de l'utilisateur et le convertir en une date Javascript par comparaison.</P></TD></TR>
<TR>
<TD FRAME="VOID" CLASS="tabverspace" COLSPAN="2">&nbsp;</TD></TR></table>
<P><A NAME="TMPID988"></A>Chaque fonction macro est transmise à deux variables : <TT CLASS="literal">options</TT> et <TT CLASS="literal">élément</TT>. La variable <TT CLASS="literal">options</TT> contient un objet Javascript qui comprend une propriété nommée pour chacune des options définies dans l'attribut <TT CLASS="literal">options</TT> de la balise macro. </P>
<P>
<DIV CLASS="informalexample">
<P class="nr1"><A NAME="AEN996"></A><B>Exemple: </B><A NAME="TMPID994"></A>Si vous avez créé la macro suivante :<A NAME="AEN998"></A>
<PRE 
CLASS="screen"
>CUSTOMmacro.test = function( options, element ){

    if ( typeof(options.test) != 'undefined' )
    {
        $(element).after(options.test);
        // $(element).before(options.test);
    } else {

        $(element).after("No test option found");
        // $(element).before(options.test);
    }

}&#13;</PRE
> puis saisi <TT CLASS="literal">&lt;ot:CUSTOMmacro_test options=""&gt;&lt;/ot:CUSTOMmacro_test&gt;</TT> dans une apparence ou un affichage personnalisé, le mot <I CLASS="emphasis">hello</I> apparaîtra à l'intérieur de la balise macro lors de l'affichage de la page. Si l'option <TT CLASS="literal">test</TT> est introuvable, <I CLASS="emphasis">Option test introuvable</I> sera inséré dans la balise macro.</P>
</DIV></P>
<DIV CLASS="localtoc">
<h2 CLASS="localtoc BH1SEP pagehd"><A NAME="LOCALTOC"></A>Table des matières&nbsp;&nbsp;</h2>
<ul>
<li><p><A  HREF="app-libraryfunctions-p.htm" revision="">Pour ajouter une fonction Javascript à un affichage personnalisé ou une apparence générale</A></p></li></ul></DIV>
<P ALIGN="RIGHT"></P></DIV></DIV>

  <script language="JavaScript">
       new AdminFooter("../../images/").draw();
  </script>
</body></HTML>