<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<META NAME="bookrevnum" CONTENT="LLESWEBR100500-1409-H-UGD-EN-01">
<META name="pvScheme" content="010203-yymm">
<META name="verttl" content="10.5.0 Update 2014-09">
<META name="PiXprocLocator" content="webreports">
<META mancondkey="lleswebr-igd -- lleswebr-h-agd"><title>CAT:JSARRAY Examples</title>
<META NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.44">
<META NAME="SECTLVL" CONTENT="2">
<LINK REL="STYLESHEET" TYPE="text/css" HREF="../../ix21.css">

<script language="JavaScript" src="../../llhelp.js"></script>
</HEAD>
<body ONLOAD="checkFrame( 'wr-catjsarray-info.htm' )" CLASS="Body" TEXT="#000000" BGCOLOR="#FFFFFF" link="#003366" alink="#3300FF" vlink="#660033" background="../../images/pattern.gif">

<DIV ID="HL4SRCH">
<DIV CLASS="pagecontent" ID="PAGECONTENT">
<!-- header -->
  <script language="JavaScript">
          var header = new AdminHeader("../../images/");
          header.title1 = 'WebReports Advanced Information';
          header.title2 = 'CAT:JSARRAY Examples';
           header.draw();
  </script>

<P class="nr1"><A NAME="TMPID18436"></A><B CLASS="highlight">Example Category definition:</B></P>
<P><IMG SRC="image001.png"></P>
<P><A NAME="TMPID18439"></A><B CLASS="highlight">Example Category data:</B></P>
<P><IMG SRC="image002.png"></P>
<P><A NAME="TMPID18442"></A>Category data can be returned in a JavaScript data structure by using the JSARRAY parameter with the CAT or VERSIONCAT subtags, for example <TT CLASS="literal">[LL_REPTAG=DATAID CAT:JSARRAY /]</TT> will return data for the current version of a node. The data returned is shown below with the addition of comments. The values shown in the image above can be seen in the JavaScript data structure below.</P>
<P><A NAME="TMPID18444"></A>It should be noted that a JavaScript prototype approach was used to store the category data. The 'new catData()' statement refers to a constructor function and 'cat_data.newNode(...)' is a method of the catData object used to store the category.</P>
<DIV title="Example JavaScript from above definition and data" CLASS="example">
<P CLASS="example" ALIGN="LEFT"><A NAME="WR-CATJSARR-EX"></A><B><IMG title="Example JavaScript from above definition and data" SRC="../../images/pi_objstart.gif" ALIGN="MIDDLE"> Example 1-11: Example JavaScript from above definition and data</B></P>
<P class="nr1"><A NAME="TMPID18447"></A>The following code is produced when calling [LL_REPTAG=DATAID CAT:JSARRAY /]</P><A NAME="AEN17204"></A>
<PRE 
CLASS="screen"
>&lt;script&gt;
/* Call to catData constructor function to instantiate a object. */
var cat_data = new catData();

/* newNode is a method to store the category data into the object. */
/* 108158 is the objectid of the node the categories are applied to */
cat_data.newNode(108158,{

  /* 108157 is the objectid of the first category applied to node 108158 */
  / * 'Type Testing Category' is the name of the first category applied to the node */
  "108157":{"id":108157, "name":"Type Testing Category", "req":false, "catver":1, "nodever":1,

  /* attr_data is where all the attribute data is stored */
  "attr_data":{
    /* 2 is the id of the first attribute in the category */
    /* 'Date of Test' is the name of the first attribute */
    /* -7 is the internal Content Server representation of the attribute type */
    /* multi is set to true if the attribute is a multi value attribute */
    /* set is set to true if the attribute is a set */
    "2":{"id":2, "name":"Date of Test", "req":false, "type":-7, "len":null, "maxlen":null, "rows":null, "maxrows":null, "multi":false, "set":false, "values":[["_1_1_2_1", "2008/2/5:0:0:0"]]},
    "3":{"id":3, "name":"Pass or Fail", "req":false, "type":5, "len":null, "maxlen":null, "rows":null, "maxrows":null, "multi":false, "set":false, "values":[["_1_1_3_1", true]]},
    "4":{"id":4, "name":"Value", "req":false, "type":2, "len":null, "maxlen":null, "rows":null, "maxrows":null, "multi":false, "set":false, "values":[["_1_1_4_1", 453]]},

    "5":{"id":5, "name":"Tester Details", "req":false, "type":-18, "len":null, "maxlen":null, "rows":null, "maxrows":null, "multi":true, "set":true,
      /* here the structure gets a little more complex because we are looking at a multi value set */
      "attr_data":{
        "0":{
          "6":{"id":6, "name":"First Name", "req":false, "type":-1, "len":32, "maxlen":32, "rows":1, "maxrows":1, "multi":false, "values":[["_1_1_5_1_6_1", "Lee"]]},
          "7":{"id":7, "name":"Last Name", "req":false, "type":-1, "len":32, "maxlen":32, "rows":1, "maxrows":1, "multi":false, "values":[["_1_1_5_1_7_1", "Butler"]]},
          "8":{"id":8, "name":"Phone Number", "req":false, "type":-1, "len":20, "maxlen":20, "rows":1, "maxrows":1, "multi":false, "values":[["_1_1_5_1_8_1", "44556677"]]},
          /* here we are adding multi value attributes into a multi value set */
          "9":{"id":9, "name":"Associates", "req":false, "type":-1, "len":32, "maxlen":32, "rows":1, "maxrows":3, "multi":true, "values":[["_1_1_5_1_9_1", "Greg Petti"], ["_1_1_5_1_9_2", "Steve Osborn"], ["_1_1_5_1_9_3", "Darren Hodder"]]}
        },

        "1":{
          /* here we defined the second element of the multi-value set */
          "6":{"id":6, "name":"First Name", "req":false, "type":-1, "len":32, "maxlen":32, "rows":1, "maxrows":1, "multi":false, "values":[["_1_1_5_2_6_1", "James"]]},
          "7":{"id":7, "name":"Last Name", "req":false, "type":-1, "len":32, "maxlen":32, "rows":1, "maxrows":1, "multi":false, "values":[["_1_1_5_2_7_1", "Brown"]]},
          "8":{"id":8, "name":"Phone Number", "req":false, "type":-1, "len":20, "maxlen":20, "rows":1, "maxrows":1, "multi":false, "values":[["_1_1_5_2_8_1", "77441199"]]},
          "9":{"id":9, "name":"Associates", "req":false, "type":-1, "len":32, "maxlen":32, "rows":1, "maxrows":3, "multi":true, "values":[["_1_1_5_2_9_1", "Brian Howson"], ["_1_1_5_2_9_2", "Peter Brown"]]}
        }
      }
    }
  }
  }
})
&lt;/script&gt;</PRE
><IMG title="Example JavaScript from above definition and data" SRC="../../images/pi_objend.gif" ALIGN="MIDDLE"></DIV>
<DIV CLASS="localtoc">
<h2 CLASS="localtoc BH1SEP pagehd"><A NAME="LOCALTOC"></A>Table of Contents&nbsp;&nbsp;</h2>
<ul>
<li><p><A  HREF="wr-catjsarrfunc-rf.htm" revision="">CAT:JSARRAY and Functions Example</A></p></li></ul></DIV>
<P ALIGN="RIGHT"></P></DIV></DIV>

  <script language="JavaScript">
       new AdminFooter("../../images/").draw();
  </script>
</body></HTML>